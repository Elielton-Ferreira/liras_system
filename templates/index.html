{% extends 'base.html' %}

{% block content %}
<h1>Produtos em Estoque</h1>

<table class="table table-striped">
    <thead>
        <tr>
            <th>ID</th>
            <th>Nome</th>
            <th>Categoria</th>
            <th>Quantidade</th>
            <th>Preço</th>
            <th>Estoque Mínimo</th>
            <th>Ações</th>
        </tr>
    </thead>
    <tbody>
        {% for produto in produtos %}
        <tr {% if produto[3] < produto[5] %}class="table-danger"{% endif %}>
            <td>{{ produto[0] }}</td>
            <td>{{ produto[1] }}</td>
            <td>{{ produto[2] }}</td>
            <td>{{ produto[3] }}</td>
            <td>{{ produto[4] }}</td>
            <td>{{ produto[5] }}</td>
            <td><a href="/editar/{{ produto[0] }}" class="btn btn-warning">Editar Estoque</a></td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<h2>Adicionar Produto</h2>
<form action="/adicionar" method="POST" class="form-adicionar-produto">
    <div class="form-group">
        <label for="nome">Nome:</label>
        <input type="text" name="nome" class="form-control" required>
    </div>
    <div class="form-group">
        <label for="categoria">Categoria:</label>
        <input type="text" name="categoria" class="form-control" required>
    </div>
    <div class="form-group">
        <label for="quantidade">Quantidade:</label>
        <input type="number" name="quantidade" class="form-control" required>
    </div>
    <div class="form-group">
        <label for="preco">Preço:</label>
        <input type="number" step="0.01" name="preco" class="form-control" required>
    </div>
    <div class="form-group">
        <label for="estoque_minimo">Estoque Mínimo:</label>
        <input type="number" name="estoque_minimo" class="form-control" required>
    </div>
    <button type="submit" class="btn btn-primary">Adicionar Produto</button>
</form>
{% endblock %}
