{% extends 'base.html' %}

{% block content %}
    <div class="container">
        <h1>Adicionar Vidro</h1>
        <form method="POST" action="/adicionar_vidro">
            <div class="form-group">
                <label for="nome">Nome do Vidro</label>
                <input type="text" class="form-control" id="nome" name="nome" required>
            </div>
            <div class="form-group">
                <label for="altura">Altura (m)</label>
                <input type="number" class="form-control" id="altura" name="altura" step="0.01" oninput="calcular()" required>
            </div>
            <div class="form-group">
                <label for="largura">Largura (m)</label>
                <input type="number" class="form-control" id="largura" name="largura" step="0.01" oninput="calcular()" required>
            </div>
            <div class="form-group">
                <label for="preco">Preço por m² (R$)</label>
                <input type="number" class="form-control" id="preco" name="preco" step="0.01" oninput="calcular()" required>
            </div>
            <div class="form-group">
                <label for="area">Área (m²)</label>
                <input type="text" class="form-control" id="area" name="area" readonly>
            </div>
            <div class="form-group">
                <label for="valor_total">Valor Total (R$)</label>
                <input type="text" class="form-control" id="valor_total" name="valor_total" readonly>
            </div>
            <button type="submit" class="btn btn-primary">Adicionar Vidro</button>
        </form>
    </div>

    <script>
        function calcular() {
            // Obtém os valores dos campos de altura, largura e preço
            const altura = parseFloat(document.getElementById('altura').value) || 0;
            const largura = parseFloat(document.getElementById('largura').value) || 0;
            const preco = parseFloat(document.getElementById('preco').value) || 0;

            // Calcula a área
            const area = altura * largura;
            document.getElementById('area').value = area.toFixed(2); // Define o valor no campo de área

            // Calcula o valor total
            const valor_total = area * preco;
            document.getElementById('valor_total').value = valor_total.toFixed(2); // Define o valor no campo de valor total
        }
    </script>
{% endblock %}
